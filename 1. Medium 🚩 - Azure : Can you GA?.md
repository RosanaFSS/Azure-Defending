<p align="center">May 23, 2025<br>
Hey there, fellow lifelong learner! IÂ´m <a href="https://www.linkedin.com/in/rosanafssantos/">Rosana</a>, and Iâ€™m genuinely excited to join you on this adventure.<br>
ItÂ´s part of my $$\textcolor{#FF69B4}{\textbf{382}}$$-day-streak in  <a href="https://tryhackme.com">TryHackMe</a>.<br><br>
<img width="300px" src="" alt="Your Image Badge"><br></p>p>

<h1 align="center">$$\textcolor{#3bd62d}{\textnormal{Azure: Can you GA?}}$$</h1>
<p align="center">Detect and investigate techniques malicious actors use to enter and control systems on a network using Defender XDR.<br>
It is classified a medium-level walkthrough, and you can join it for ðŸ†“ using your own virtual machine with openVPN or TryHackMeÂ´s AttackBox if you are subscribed. Can be accessed clicking <a href="https://tryhackme.com/room/xdrlateralmovement">here</a>.</p>

<p align="center"> <img width="1000px" src="https://github.com/user-attachments/assets/0c4f4537-dacc-4856-b410-d7b65acef92e"> </p>

<br>
<br>

<h2>Task 1 . Introduction</h2>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the question below}}$$ </h3>

> 1.1. <em>Initiated challenge deployment</em>.<a id='1.1'></a>
>> <code><strong>No answer needed</strong></code><br>

<br>
<br>

<h2>Task 2 . Recon . Entra ID</h2>

<h3>Lay of the Land</h3>
<p>We already have a compromised Azure account potentially by means of:<br>

- Phishing attacks<br>
- Unsecured network<br>
- Weak passwords<br>
- Vulnerabilities in applications<br><br>

Log in to the tenant and do some initial recon to see what else is up.</p>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the questions below}}$$ </h3>

> 2.1. <em>What is theTenant ID?</em> Hint : <em>Entra ID</em><a id='2.1'></a>
>> <code><strong>7acbf440-195e-4242-aa5c-dbac278eadf6</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/b3234a8c-f37c-4ad0-b568-c0ce20e7d8a9)

<br>

> 2.2. <em>What is the  Primary Domain?</em><a id='2.2'></a>
>> <code><strong>970781.onmicrosoft.com</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/d1572549-a91d-4d0e-8963-befab3ef24d3)

<br>

> 2.3. <em>How many App Registrations are there in this tenant?</em><a id='2.3'></a>
>> <code><strong>970781.onmicrosoft.com</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/18410057-b10d-46a6-8034-d3078a531f16)

<br>

> 2.4. <em>What is the user flag?</em><a id='2.4'></a>
>> <code><strong>THM{0f213b70-5f34-4aed-af04-53dcfb9f9a2d}</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/983257c3-dff1-493a-a305-24bd5c087c35)

<br>

<p>Clicked <code>Start download</code>.<br><br>
Clicked <code>File is ready! Clicked here to download</code>.<br><br>
Got the following ...</p>


![image](https://github.com/user-attachments/assets/7c13106a-3c55-42fe-b36c-68bfd86f193c)


<br>
<br>

<h2>Task 3 . Recon . Roles and Administrators</h2>

<p>Have you checked out administrators and their roles yet?</p>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the question below}}$$ </h3>

> 3.1. <em>Which user (UPN) has the Application Administrator role assignment?</em> Hint : <em>Assigned roles</em><a id='3.1'></a>
>> <code><strong>kennethallen@970781.onmicrosoft.com</strong></code><br>

<br>


![image](https://github.com/user-attachments/assets/6ee5b147-144c-4341-b8db-64001515f801)

<br>

![image](https://github.com/user-attachments/assets/b453e9b7-595b-492c-9ab4-876807a54274)

<br>
<br>

<h2>Task 4 . Recon . Applications</h2>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the questions below}}$$ </h3>

> 4.1. <em>Target app: Display Name?</em> Hint : <emRoles and administrators</em><a id='4.1'></a>
>> <code><strong>kennethallen@970781.onmicrosoft.com</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/dc84d678-18ad-4d54-a198-b64a339d4296)


<br>

![image](https://github.com/user-attachments/assets/8dba9379-0c2e-4e26-984f-3d21f5fd54b5)


<br>

> 4.2. <em>Which administrator role assignment of the target app can be abused for privilege escalation?</em><a id='4.2'></a>
>> <code><strong>Privileged Role Administrator</strong></code><br>

![image](https://github.com/user-attachments/assets/6ef7d12e-20d7-4455-8fed-3339e19425d6)

<br>
<br>

<h2>Task 5 . Attack Path</h2>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the questions below}}$$ </h3>

> 5.1. <em>Which user (display name) is the obvious candidate, i.e., target user, for a Global Administrator?</em><a id='5.1'></a>
>> <code><strong>Kenneth Allen</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/d540f47e-e632-4d29-9127-80c9d52d146d)


<br>

![image](https://github.com/user-attachments/assets/993cee9e-172a-46dc-b640-1e0f75917312)

<br>

> 5.2. <em>What's the role assignment for this user?</em><a id='5.2'></a>
>> <code><strong>Application Administrator</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/3cd811ab-9cc8-48ea-b09b-0778788f6d20)


<br>



> 5.3. <em>Which application is the obvious candidate, i.e. target app, to abuse for privilege escalation?</em> Hint: <em>SP abuse</em><a id='5.3'></a>
>> <code><strong>ITOps-App</strong></code><br>

<br>

![image](https://github.com/user-attachments/assets/ad95483b-0515-4ab6-9624-436b81ea6b82)


<br>


> 5.4. <em>What's the role assignment for this application?</em><a id='5.4'></a>
>> <code><strong>Privileged Role Administrator</strong></code><br>


![image](https://github.com/user-attachments/assets/5ac9c20f-a5da-431f-8e00-40a15223ff8d)

<br>
<br>

<h2>Task 6 . COA . Course of Action</h2>

<P>AzureHound the tenant and you shall find your path!</P>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the question below}}$$ </h3>

> 6.1. <em>I think I got the idea now. The question is, can I GA?</em><a id='6.1'></a>
>> <code><strong>No answer needed</strong></code><br>


<br>
<br>

<h2>Task 7 . Attack . Client Secret</h2>

<p>Time to put your scripting skills to test. Can you generate a new client secret for the target app?</p>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the questions below}}$$ </h3>

> 7.1. <em>Done. What will I do with it?</em><a id='7.1'></a>
>> <code><strong>No answer needed</strong></code><br>

<br>

> 7.2. <em>There are many ways to generate a new secret. When using a PowerShell script to do it, you will need to create an object. Which object did you have to use to create a new client secret?</em> Hint : <em>System.Management.Automation.</em><a id='7.2'></a>
>> <code><strong>PScredential</strong></code><br>


<br>

![image](https://github.com/user-attachments/assets/295fe3fb-2efe-437d-bf3a-c5c9b9d453f7)

<br>

<br>
<br>
<p><code>kennethallen@970781.onmicrosoft.com</code></p>

Logged in as kennet using:
kennethallen@970781.onmicrosoft.com

endless-leech-7RSC

<br>
<br>

![image](https://github.com/user-attachments/assets/8e4d10b2-7e92-4839-bb00-af7471813d04)

2. Accessed Microsoft Entra ID
3. Clicked App registrations

4. Clicked Owned applications --> 970781.onmicrosoft.com ITOps-App

![image](https://github.com/user-attachments/assets/afa9b6bf-440d-4e32-868a-3590dad1fb68)

<br>

5. Navigated to [Certificates & secrets]
6. Clicked [New client secret]

<br>

![image](https://github.com/user-attachments/assets/d8034cf4-d53c-472c-9952-46ffa0700cf6)


<br>

7. Typed [Description]?:TryHackMe-challenge and [Expires]:6 months

<br>

![image](https://github.com/user-attachments/assets/b8c0b0ad-c959-4d2f-b17f-a1acbe3a37d9)

8. Clicked [Add]

9. Reviewed the new client secret just created

<br>

![image](https://github.com/user-attachments/assets/72efcb0b-3b21-4833-a442-f88478bf8fef)



<p><code>Wendy Vargas</code>:<code>wendyvargas@970781.onmicrosoft.com</code>:<code>endless-leech-7RSC</code></p>

![image](https://github.com/user-attachments/assets/d23dfe33-caa1-488c-b35c-4d962b7791b1)


970781.onmicrosoft.com ITOps-App

![image](https://github.com/user-attachments/assets/23b17006-fce9-4d14-9b95-46d74d47cf49)




![image](https://github.com/user-attachments/assets/588b85c6-fa6e-4b47-85ba-3763381e734f)

<br><br>
<br>
<br>

<p>May 23</p>

<p>Created a new client secret</p>

![image](https://github.com/user-attachments/assets/8ad9c88c-7bed-4d20-a223-202222e4faff)

<br>

![image](https://github.com/user-attachments/assets/6c71055a-144f-4668-8221-d3a1e4dbb525)

<br>

<p>Navigated to Attack VM</p>

<br>

<p>Launched PowerShell as Administrator</p>

<br>

<p>Added my user as application owner</p>

<p>Logged out as </p>
<p>Logged in with my credentials.</p>





![image](https://github.com/user-attachments/assets/ebefbd36-247e-4a34-89ae-7c6dca95df70)


<br>

![image](https://github.com/user-attachments/assets/336313b0-b72a-4ffc-84cc-932212b1dd49)

<br>

<p>Finally!!!!!</p>

![image](https://github.com/user-attachments/assets/79c9cf80-c29f-4927-8abf-a314f2c26811)

<br>
<br>

<h1 align="center"> $$\textcolor{#3bd62d}{\textnormal{Room Completed}}$$</h1>
<p align="center"> <img width="1000px" src="https://github.com/user-attachments/assets/25baec43-5ec5-445f-8f4f-fa8b4ecea8fc"><br>
                   <img width="1000px" src="https://github.com/user-attachments/assets/5b21231d-1483-4054-a91e-a611c0827a03"></p>




<h1 align="center"> $$\textcolor{#3bd62d}{\textnormal{My TryHackMe Journey}}$$</h1>


<div align="center">

| Date<br>          |  Streak<br>|   All Time<br>Global   |   All Time<br>Brazil |  Monthly<br>Global   |  Monthly<br>Brazil   |  SHOGUN<br>points  |   Rooms<br>completed  |  Badges<br> |
| :---------------: | :--------: | :--------------------: | :------------------: | :------------------: | :------------------: | :----------------: | :-------------------: | :---------: |
| May 23, 2025      |     382    |          213Ê³áµˆ         |            4áµ—Ê°       |        161Ë¢áµ—         |           3Ê³áµˆ        |       104,213      |             742       |    62       |

</div>



<p align="center"> Global All Time: 221Ë¢áµ— <br><img width="300px" src="https://github.com/user-attachments/assets/1adf262e-6f76-4e83-b671-7a83198372d3" alt="Your Image Badge"><br>
                                              <img width="1000px" src="https://github.com/user-attachments/assets/91637316-7ba5-4b5a-b5b2-8fcef2daf04f"><br><br>
                   Brazil All Time:   4áµ—Ê°<br><img width="1000px" src="https://github.com/user-attachments/assets/5350b4d1-475f-4f54-9b98-8a6574ccb4c6"><br><br>
                   Global monthly:   161Ë¢áµ—<br><img width="1000px" src="https://github.com/user-attachments/assets/0925b546-f955-4c95-a0fd-2b675242489a"><br><br>
                   Brazil monthly:   3Ê³áµˆ<br><img width="1000px" src="https://github.com/user-attachments/assets/34fd5078-81ae-4ca7-984c-06d0233f9c09"><br><br></p>

<h1 align="center"> $$\textcolor{#3bd62d}{\textnormal{Thanks for coming!}}$$</h1>
<p align="center">Follow me on <a href="https://medium.com/@RosanaFS">Medium</a>, here on <a href="https://github.com/RosanaFSS/TryHackMe">GitHub</a>, and on <a href="https://www.linkedin.com/in/rosanafssantos/">LinkedIN</a>.</p> 
<br>
<h1 align="center">Thank you very much <a href="https://tryhackme.com/p/tryhackme">tryhackme</a> and <a href="https://tryhackme.com/p/krotovolb">krotovolb</a><br>for developinng this experience so that I could sharpen my skills!</h1>
