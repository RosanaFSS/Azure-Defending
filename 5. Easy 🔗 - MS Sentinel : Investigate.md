<h1>MS Sentinel: Investigate</h1>

<h3>This challenge was removed from the TryHackMe platform. I wrote a full walkthrough on Medium, and I was very close to finishing it. However, I couldn't complete it because the Azure lab provided presented errors.</h3>

<br>

<h3>Investigate and manage incidents in Microsoft Sentinel. Defending Azure learning path → Microsoft Sentinel → Investigate → 5 of 5.</h3>

<br>

![image](https://github.com/user-attachments/assets/abb78aae-5e0f-4cb4-b005-5e3949ec62ae)



<br>


<h2>Task 1 . Introduction</h2>
<p>Our Microsoft Sentinel journey continues. Let's take a quick snapshot of where we are in this journey and review the milestones we've passed in the previous rooms:
Onboarding - Microsoft Sentinel concepts, planning and initial deployment<br><br>
  
- Configuration - Installing Content hub solutions<br>
- Configuration - Connecting Data connectors<br>
- Threat detection - Analytics rules enabled</p>


<h3>Learning Objectives</h3>
<p>In this room, we will look into incident investigation and management concepts to see how we can easily manage security incidents in Microsoft Sentinel.<br><br>

- Firstly, we'll introduce incident tools and features in Microsoft Sentinel<br>
- Then, investigate sample incidents<br>
- Finally, we'll see how we can manage incidents, hand them over, or escalate them a higher level security team</p>


<h3>Prerequisites</h3>

<p>A good understanding of previous Sentinel rooms is recommended to fully leverage the benefits of this room:<br><br>

- MS Sentinel: Introduction<br>
- MS Sentinel: Deploy<br>
- MS Sentinel: Ingest Data<br>
- MS Sentinel: Detect</p>

<br>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the question below}}$$ </h3>

<br>

> 1.1. <em>Let's go!</em><br><a id='1.1'></a>
>> <strong><code>No answer needed</code></strong><br>
<p></p>

<br>
<br>


<h2>Task 2 . Events / Alerts / Incidents</h2>
<p>[ ... ]</p>

<h3>Real-Life Analogy - House Monitoring System</p>
<p>To better understand the similarities and differences between events, alerts, and incidents, let's imagine a typical daily scenario: a House Monitoring System.<br><br>
  
Imagine a 24/7 camera monitoring the entrance of a house. This camera will surely capture many snapshots of activities happening. Let's further assume a family of 3–4 household members living there. Surely, this family will go about their days and will be entering and exiting the house, back and forth, many times during the day.<br><br>

With this background context, consider the following situations in which each moment is captured by the camera. Let's use these moments to explain events, alerts, and incidents.</p>

<h4>Scene 1 : Event</h4>h4>
<p>[ ... ]</p>

<br>

<h4>Scene 2 : Alert</h4>h4>
<p>[ ... ]</p>

<br>

<h4>Scene 3 : Incident</h4>h4>
<p>[ ... ]</p>

<br>


<p>With the above mental picture in mind, let's define events, alerts, and incidents in the context of IT security operations.</p>

<br>

![image](https://github.com/user-attachments/assets/32fa75dc-2511-46a5-a4b4-9ce0c5c9dfc1)

<br>

<p>Event data can be vast; in this case, only certain events passing defined thresholds will be categorized as alerts. In the context of Microsoft Sentinel, these rules and thresholds are defined in Analytics rules, as seen in the MS Sentinel: Detect room.<br><br>
Understanding these terms, their differences, and how they relate to any security monitoring application is crucial for investigating and managing incidents.<br><br>
After the real-life analogy above and explanations, I hope all three terms are as clear as mud. Let's move on to see how to perform investigations and manage incidents throughout the rest of this room. Specifically, we will look into how events, alerts, and incidents are represented and managed in different parts and screens of Microsoft Sentinel.<br><br>
Let's move on to incident triage and investigations.</p>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the questions below}}$$ </h3>

<br>

> 2.1. <em>What is a normal activity that happens at a point in time, neither good nor bad called?</em><br><a id='2.1'></a>
>> <strong><code>event</code></strong><br>
<p></p>

<br>

> 2.2. <em>What is a negative event that disrupts normal operations and requires investigation called?</em><br><a id='2.2'></a>
>> <strong><code>incident</code></strong><br>
<p></p>

<br>
<br>

<h2>Task 3 . Incidents Overview</h2>
<p>Now that all the fundamental security concepts - events, alerts, incidents - are covered in detail, let's see how Microsoft Sentinel presents these concepts and what additional information is available for investigation.</p>

<br>

![image](https://github.com/user-attachments/assets/5aff0287-5919-4c92-b82d-fea5fe5f61cb)


<br>


<p>1. Showing the number of Open, New, and Active incidents.<br>
2. Show all incidents based on the filters applied, e.g., the last 30 days.<br>
3. Incident management details for the selected incident: This part will be relevant later when we discuss triaging and taking ownership of an incident.<br><br>

. Owner: Unassigned or assigned owner<br>
. Status: New, Active, Closed<br>
. Severity: High, Medium, Low, Informational<br><br>

4. Evidence: Events and Alerts related to the selected incident.<br>
The right pane only summarizes the incident; more details can be found by clicking "View full details" for investigation purposes. MITRE Tactics and Techniques mapped to this incident can also be seen on the incident overview pane.</p>

<br>

![image](https://github.com/user-attachments/assets/09a5ceb7-31f4-47a8-80df-0102f8fbd120)


<br>

<p>It is also important to note that the source of alerts resulting in incidents may not always be Microsoft Sentinel itself. Other security products may also contribute to incidents, as seen below. In fact, this is the most common scenario: Once connected to Microsoft Sentinel, alerts from these products will produce the majority of the incidents, such as the Microsoft Defender products suite.</p>

<br>

![image](https://github.com/user-attachments/assets/00f1131d-abf5-49d3-b01d-6617001202a3)

<br>

<h3 align="left"> $$\textcolor{#f00c17}{\textnormal{Answer the question below}}$$ </h3>

<br>

> 3.1. <em>Is Microsoft Sentinel the only product contributing to incidents? (Yea/Nay)</em><br><a id='3.1'></a>
>> <strong><code>Nay</code></strong><br>
<p></p>

<br>
<br>


<br>
<br>

<h2>Task 3 .Triage and Investigate - Ownership, Status, Tasks</h2>
<h3>Incident Ownership</h3>
<p>In a standard setting, every incident must be allocated to a designated security team member. This individual, known as the incident owner, is responsible for overseeing the entire incident management process, encompassing investigation and providing status updates. Ownership can be transferred at any point to delegate the incident to another member of the security team for additional investigation or escalation.<br><br>
As for a SOC analyst, triaging and investigating an incident usually starts by taking ownership of the incident by changing the owner and status. This could be done from the incident overview pane by:</p>

<br>

<p>. Assigning the incident owner to yourself.</p>

<br>

![image](https://github.com/user-attachments/assets/150e93b0-869a-45b5-9835-ba056778e7c7)

<br>

<p>. Changing the incident status from New to Active.</p>

<br>

![image](https://github.com/user-attachments/assets/c69708aa-9cfe-40cf-b4ae-92ce6cc7b8bb)

<br>

<h3>Incident Severity</h3>
<p>The severity of an incident is initially determined by the rule or Microsoft security source that triggered it. Typically, the severity of an incident remains unchanged, but there's the possibility of adjusting it if you determine that the initial classification is inaccurate. Severity options range from Informational, Low, Medium, to High.<br><br>
Using the incident overview pane, you can also add tags and take some initial actions for the incident, such as:</p>

<br>

<p>. Investigate<br>
. Run playbook<br>
. Create automation rule<br>
. Create team</p>

<br>

![image](https://github.com/user-attachments/assets/3dd8bc5d-711f-4772-977a-497e1cf89b65)


<br>

<h3>Incident Details</h3>
<p>When it's time for a more in-depth investigation, the Incident Details page will reveal many details for the SOC analyst. By clicking "View full details", we get to the page where most investigation actions can be performed.</p>

<br>


![image](https://github.com/user-attachments/assets/1014acc3-d845-4a67-80c6-fc48ed203f34)


<br>

<p>At the top of the page, you can find:<br><br>

. Logs: To open the Log Analytics query window<br>
. Tasks: To see the tasks assigned for the incident<br>
. Activity log: To see any actions taken for the incident</p>




